{"version":3,"sources":["Components/Header/Header.jsx","Version.js","Components/Footer/Footer.jsx","Components/AddSquareForm/AddSquareForm.jsx","libs/SquareThemes.js","libs/Synth.js","libs/ResponsiveVoiceSynth.js","Components/Square/Square.jsx","Components/SquareList/SquareList.jsx","Components/Settings/Settings.jsx","Components/NotSupportedWarning/NotSupportedWarning.jsx","libs/Store.js","App.jsx","serviceWorker.js","index.js"],"names":["Header","className","VersionTag","Footer","Version","AddSquareForm","props","updateState","e","setState","text","target","value","checkEnter","key","onAdd","state","onAddSquare","placeholder","type","this","onChange","onKeyPress","onClick","React","Component","squareThemes","red","blue","green","yellow","pink","orange","purple","pickRandomTheme","obj","keys","Object","length","Math","random","randomProperty","ResponsiveVoiceSynth","rate","voiceUri","synth","window","responsiveVoice","enableWindowClickHook","clickEvent","voices","lenght","getVoices","voice","filter","v","i","a","voiceURI","volume","setVoice","console","error","setDefaultVoice","speak","voiceSupport","Square","square","alert","showDeleteButton","isDeleteButtonHidden","toggleDeleteButtonVisibility","hideDeleteButton","theme","isTextTrimmed","substring","concat","Zoom","in","timeout","onMouseLeave","onMouseOver","deleteSquare","bind","id","class","SquareList","squares","renderEmpty","renderSquares","map","s","Settings","onVoicesChanged","htmlFor","selectedVoice","onSelectedVoiceChanged","name","onRateChanged","min","step","max","NotSupportedWarning","StoreKeys","store","get","save","settings","undefined","data","json","JSON","stringify","localStorage","setItem","getItem","parse","App","saveData","saveSquares","saveSettings","randomTheme","newSquare","uuid","v4","stopPropagation","changeSelectedVoice","setVoiceUri","changeRate","setRate","getSquares","getSettings","addEventListener","removeEventListener","isSupported","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"6XAceA,G,MAVA,WACb,OACA,4BAAQC,UAAU,2BAChB,wBAAIA,UAAU,+BAAd,kBAGA,mECTSC,EAAU,WADM,SCWdC,EARA,WACX,OACI,4BAAQF,UAAU,uDACd,2BAAOA,UAAU,uBAAjB,sBACA,2BAAOA,UAAU,uBAAuBG,KCwCrCC,E,YA5CX,WAAYC,GAAQ,IAAD,8BACf,4CAAMA,KAsBVC,YAAc,SAACC,GACX,EAAKC,SAAS,CAAEC,KAAMF,EAAEG,OAAOC,SAxBhB,EA2BnBC,WAAa,SAACL,GACI,UAAVA,EAAEM,KACF,EAAKC,SA7BM,EAiCnBA,MAAQ,WACA,EAAKC,MAAMN,MACP,EAAKJ,MAAMW,cAEX,EAAKX,MAAMW,YAAY,EAAKD,MAAMN,MAClC,EAAKD,SAAS,CAAEC,KAAM,OApC9B,EAAKM,MAAQ,CACTN,KAAM,IAHK,E,sEAQf,OACI,yBAAKT,UAAU,oCACX,2BAAOA,UAAU,kGACbiB,YAAY,yCACZC,KAAK,OACLP,MAAOQ,KAAKJ,MAAMN,KAClBW,SAAUD,KAAKb,YACfe,WAAYF,KAAKP,aACrB,2BAAOZ,UAAU,gIACbkB,KAAK,SACLP,MAAM,MACNW,QAASH,KAAKL,a,GApBNS,IAAMC,W,qBCF5BC,EAAe,CACjBC,IAAK,MACLC,KAAM,OACNC,MAAO,QACPC,OAAQ,SACRC,KAAM,OACNC,OAAQ,SACRC,OAAQ,UAYGC,EAJS,WACpB,OANmB,SAAUC,GAC7B,IAAIC,EAAOC,OAAOD,KAAKD,GACvB,OAAOA,EAAIC,EAAMA,EAAKE,OAASC,KAAKC,UAAY,IAIzCC,CAAef,ICdXgB,EC6DD,I,WA9DV,aAAe,oBACXtB,KAAKuB,KAAO,EACZvB,KAAKwB,SAAW,kBAChBxB,KAAKyB,MAAQC,OAAOC,gBAEpB3B,KAAKyB,MAAMG,wBACX5B,KAAKyB,MAAMI,a,wDAGHL,GACRxB,KAAKwB,SAAWA,I,+BAGXA,GACAxB,KAAK8B,QAAiC,IAAvB9B,KAAK8B,OAAOC,SAC5B/B,KAAK8B,OAAS9B,KAAKyB,MAAMO,aAE7B,IAEI,OADAhC,KAAKiC,MAAQjC,KAAK8B,OAAOI,OAAO,SAACC,EAAGC,EAAGC,GAAP,OAAaF,EAAEG,WAAad,IAAU,IAC/D,EAEX,SACI,OAAO,K,8BAIPD,GACAA,IACAvB,KAAKuB,KAAOA,K,kCAOhB,OAHKvB,KAAK8B,QAAiC,IAAvB9B,KAAK8B,OAAOC,SAC5B/B,KAAK8B,OAAS9B,KAAKyB,MAAMO,aAEtBhC,KAAK8B,S,4BAGVxC,EAAMiD,GACcvC,KAAKwC,SAASxC,KAAKwB,WAErCiB,QAAQC,MAAM,uBAElB,IAGI,OAFA1C,KAAKyB,MAAMkB,gBAAgB3C,KAAKwB,UAChCxB,KAAKyB,MAAMmB,MAAMtD,EAAMU,KAAKwB,SAAU,CAACD,KAAMvB,KAAKuB,KAAMgB,OAAQA,KACzD,EAEX,SACI,OAAO,K,oCAKX,OAAOvC,KAAKyB,MAAMoB,iB,yCAIlB,OAAO7C,KAAKiC,U,cCMLa,E,YAxDX,WAAY5D,GAAQ,IAAD,8BACf,4CAAMA,KAiCV0D,MAAQ,WAAO,IACHG,EAAW,EAAK7D,MAAhB6D,OACMtB,EAAMmB,MAAMG,EAAOzD,OAE7B0D,MAAM,gIAtCK,EAyCnBC,iBAAmB,WACX,EAAKrD,MAAMsD,sBACX,EAAKC,gCA3CM,EA8CnBC,iBAAmB,WACV,EAAKxD,MAAMsD,sBACZ,EAAKC,gCAhDM,EAmDnBA,6BAA+B,WAC3B,EAAK9D,SAAS,CAAE6D,sBAAuB,EAAKtD,MAAMsD,wBAlDlD,EAAKtD,MAAQ,CACTsD,sBAAsB,GAHX,E,sEAOT,IACEH,EAAW/C,KAAKd,MAAhB6D,OACJM,EAAQN,EAAOM,OAASvC,IACxBxB,EAAOyD,EAAOzD,KACdgE,GAAgB,EAKpB,OAJIP,EAAOzD,KAAK4B,OAAS,IACrB5B,EAAOyD,EAAOzD,KAAKiE,UAAU,EAAG,GAAGC,OAAO,OAC1CF,GAAgB,GAGhB,kBAACG,EAAA,EAAD,CAAMC,IAAI,EAAMC,QAAS,KACrB,yBAAK9E,UAAU,MACXsB,QAASH,KAAK4C,OACd,yBAAK/D,UAAS,4CAAuCwE,EAAvC,cAAkDA,GAC5DO,aAAc5D,KAAKoD,iBACnBS,YAAa7D,KAAKiD,mBAChBjD,KAAKJ,MAAMsD,sBACT,yBAAK/C,QAASH,KAAKd,MAAM4E,aAAaC,KAAK,KAAMhB,EAAOiB,KACpD,kBAAC,IAAD,CAAYnF,UAAU,YAE9B,uBAAGA,UAAU,sCAAsCS,EAC9CgE,GAAiB,0BAAMW,MAAM,eAAelB,EAAOzD,c,GA7B3Dc,IAAMC,WCyBZ6D,G,uLA3BD,IACEC,EAAYnE,KAAKd,MAAjBiF,QACR,OACI,yBAAKtF,UAAU,iCACX,yBAAKA,UAAU,2BACS,IAAnBsF,EAAQjD,OAAelB,KAAKoE,cAAgBpE,KAAKqE,cAAcF,O,oCAO5E,OACI,yBAAKtF,UAAU,oBACX,kBAAC,IAAD,CAAQA,UAAU,eAClB,uBAAGA,UAAU,MAAb,oC,oCAKEsF,GAAU,IAAD,OACnB,OAAOA,EAAQG,IAAI,SAAAC,GACf,OAAO,kBAAC,EAAD,CAAQ7E,IAAK6E,EAAEP,GAAIjB,OAAQwB,EAAGT,aAAc,EAAK5E,MAAM4E,qB,GAvBjD1D,IAAMC,YC0ChBmE,G,kBA1CX,aAAc,IAAD,8BACT,+CAoCJC,gBAAkB,WACd,EAAKpF,SAAS,CAACyC,OAAQL,EAAMO,eApC7BP,EAAMgD,gBAAkB,EAAKA,gBAC7B,EAAK7E,MAAQ,CACTkC,OAAQL,EAAMO,aAJT,E,sEAST,OACI,yBAAKnD,UAAU,6BACX,yBAAKA,UAAU,oBACX,2BAAO6F,QAAQ,gBAAf,SAA2C,6BAC3C,4BAAQV,GAAG,eACPnF,UAAU,uEACVW,MAAOQ,KAAKd,MAAMyF,cAClB1E,SAAUD,KAAKd,MAAM0F,wBACpB5E,KAAKJ,MAAMkC,QAAU9B,KAAKJ,MAAMkC,OAAOwC,IAAI,SAAAnC,GAAC,OACzC,4BAAQzC,IAAKyC,EAAEX,SAAUhC,MAAO2C,EAAEX,UAAWW,EAAE0C,UAI3D,yBAAKhG,UAAU,+BACX,2BAAO6F,QAAQ,QAAf,QAAkC,6BAClC,2BAAOV,GAAG,OACNnF,UAAU,yDACVkB,KAAK,SACLP,MAAOQ,KAAKd,MAAMqC,KAClBtB,SAAUD,KAAKd,MAAM4F,cACrBC,IAAI,IACJC,KAAK,KACLC,IAAI,Y,GAhCL7E,IAAMC,YCWd6E,EAZa,WACxB,OACI,yBAAKrG,UAAU,8CACX,kBAAC,IAAD,CAASA,UAAU,eACnB,uBAAGA,UAAU,MAAK,4CAClB,uBAAGA,UAAU,MAAb,uBACwB,oDADxB,qBAC2E,gCCTjFsG,EACK,UADLA,EAEM,WAwCGC,EADD,I,qGAjCV,OADgBpF,KAAKqF,IAAIF,IACP,K,kCAGRhB,GACVnE,KAAKsF,KAAKH,EAAmBhB,K,oCAI7B,IAAMoB,EAAWvF,KAAKqF,IAAIF,GAC1B,OAAII,GAAYA,EAAShE,KAChBgE,EACF,CAAEhE,KAAM,EAAGoD,mBAAea,K,mCAGtBjE,EAAMC,GACjB,IAAM+D,EAAW,CACfhE,OACAoD,cAAenD,GAEjBxB,KAAKsF,KAAKH,EAAoBI,K,2BAG3B7F,EAAK+F,GACR,IAAMC,EAAOC,KAAKC,UAAUH,GAC5B/D,OAAOmE,aAAaC,QAAQpG,EAAKgG,K,0BAG/BhG,GACF,IAAMgG,EAAOhE,OAAOmE,aAAaE,QAAQrG,GACzC,OAAOiG,KAAKK,MAAMN,O,MCwDPO,E,YA9Eb,aAAe,IAAD,uBACZ,+CA0CFC,SAAW,WACTd,EAAMe,YAAY,EAAKvG,MAAMuE,SAC7BiB,EAAMgB,aAAa,EAAKxG,MAAM2B,KAAM,EAAK3B,MAAM+E,gBA7CnC,EAgDd9E,YAAc,SAACP,GACb,IAAM+G,EAAcvF,IACdwF,EAAY,CAChBtC,GAAIuC,IAAKC,KACTlH,KAAMA,EACN+D,MAAOgD,GAET,EAAKhH,SAAS,CAAE8E,QAAS,EAAKvE,MAAMuE,QAAQX,OAAO8C,MAvDvC,EA0DdxC,aAAe,SAACE,EAAI5E,GAClBA,EAAEqH,kBACF,EAAKpH,SAAS,CACZ8E,QAAS,EAAKvE,MAAMuE,QAAQjC,OAAO,SAAAqC,GAAC,OAAIA,EAAEP,KAAOA,OA7DvC,EAiEd0C,oBAAsB,SAACtH,GACrB,IAAMoC,EAAWpC,EAAEG,OAAOC,MAC1B,EAAKH,SAAS,CAAEsF,cAAenD,IAC/BC,EAAMkF,YAAYnF,IApEN,EAuEdoF,WAAa,SAACxH,GACZ,IAAMmC,EAAOnC,EAAEG,OAAOC,MACtB,EAAKH,SAAS,CAAEkC,KAAMA,IACtBE,EAAMoF,QAAQtF,IAxEd,IAAM4C,EAAUiB,EAAM0B,aAChBvB,EAAWH,EAAM2B,cAHX,OAIZ,EAAKnH,MAAQ,CACXuE,QAASA,EACTQ,cAAeY,EAASZ,cACxBpD,KAAMgE,EAAShE,MAEjBE,EAAMkF,YAAYpB,EAAS/D,UAC3BC,EAAMoF,QAAQtB,EAAShE,MAVX,E,iFAcZG,OAAOsF,iBAAiB,eAAgBhH,KAAKkG,Y,6CAI7ClG,KAAKkG,WACLxE,OAAOuF,oBAAoB,eAAgBjH,KAAKkG,Y,+BAIhD,OACE,8BACE,kBAAC,EAAD,MACCzE,EAAMyF,cACL,kBAAC,WAAD,KACE,kBAAC,EAAD,CAAUvC,cAAe3E,KAAKJ,MAAM+E,cAClCpD,KAAMvB,KAAKJ,MAAM2B,KACjBqD,uBAAwB5E,KAAK0G,oBAC7B5B,cAAe9E,KAAK4G,aAEtB,kBAAC,EAAD,CAAe/G,YAAaG,KAAKH,cACjC,kBAAC,EAAD,CAAYsE,QAASnE,KAAKJ,MAAMuE,QAASL,aAAc9D,KAAK8D,gBAE5D,kBAAC,EAAD,MAEJ,kBAAC,EAAD,W,GAvCU1D,IAAMC,WCFJ8G,QACW,cAA7BzF,OAAO0F,SAASC,UAEe,UAA7B3F,OAAO0F,SAASC,UAEhB3F,OAAO0F,SAASC,SAASC,MACvB,2D,MCXNC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,SD0H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,KAAK,SAAAC,GACjCA,EAAaC,iB","file":"static/js/main.2cc074f5.chunk.js","sourcesContent":["import React from 'react';\r\nimport './Header.scss';\r\n\r\n\r\nconst Header = () => {\r\n  return (\r\n  <header className=\"bg-navy tc ph4 pv3 gold\">\r\n    <h1 className=\"title gold f3 f2-m f1-l mv3\">\r\n      Speech Squares\r\n    </h1>\r\n    <h2>A tool to help language learners</h2>\r\n  </header>);\r\n};\r\n\r\nexport default Header;\r\n","export const VersionNumber = \"1.2.0\"\r\nexport const VersionTag = `v${VersionNumber}`","import React from 'react';\r\nimport * as Version from '../../Version'\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <footer className=\"bg-navy bottom-0 w-100 pv4 ph3 ph5-m ph6-l mid-gray\">\r\n            <small className=\"f6 db near-white fl\">Made by Mar â™¡</small>\r\n            <small className=\"f6 db near-white fr\">{Version.VersionTag}</small>\r\n        </footer>);\r\n};\r\n\r\nexport default Footer;\r\n\r\n","import React from 'react';\r\n\r\nclass AddSquareForm extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            text: ''\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"bg-blue2 mw8 center pa4 cf h-100\">\r\n                <input className=\"f6 f5-l input-reset bn fl black-80 bg-white pa3 lh-solid w-100 w-75-m w-80-l br2-ns br--left-ns\"\r\n                    placeholder=\"type a 'sound' and add it to the board\"\r\n                    type=\"text\"\r\n                    value={this.state.text}\r\n                    onChange={this.updateState}\r\n                    onKeyPress={this.checkEnter} />\r\n                <input className=\"f6 f5-l button-reset fl pv3 tc bn bg-animate bg-black-70 hover-bg-black white pointer w-100 w-25-m w-20-l br2-ns br--right-ns\"\r\n                    type=\"submit\"\r\n                    value=\"Add\"\r\n                    onClick={this.onAdd} />\r\n            </div>);\r\n    }\r\n\r\n    updateState = (e) => {\r\n        this.setState({ text: e.target.value })\r\n    }\r\n\r\n    checkEnter = (e) => {\r\n        if (e.key === 'Enter') {\r\n            this.onAdd();\r\n        }\r\n    }\r\n\r\n    onAdd = () => {\r\n        if (this.state.text) {\r\n            if (this.props.onAddSquare)\r\n            {\r\n                this.props.onAddSquare(this.state.text);\r\n                this.setState({ text: '' });\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nexport default AddSquareForm;\r\n","const squareThemes = {\r\n    red: 'red',\r\n    blue: 'blue',\r\n    green: 'green',\r\n    yellow: 'yellow',\r\n    pink: 'pink',\r\n    orange: 'orange',\r\n    purple: 'purple'\r\n}\r\n\r\nconst randomProperty = function (obj) {\r\n    var keys = Object.keys(obj)\r\n    return obj[keys[ keys.length * Math.random() << 0]];\r\n};\r\n\r\nconst pickRandomTheme = function() {\r\n    return randomProperty(squareThemes);\r\n}\r\n\r\nexport default pickRandomTheme;\r\n","//import LocalVoicesSynth from './LocalVoicesSynth'\r\nimport ResponsiveVoiceSynth from './ResponsiveVoiceSynth'\r\nexport default ResponsiveVoiceSynth;","class ResponsiveVoiceSynth {\r\n    constructor() {\r\n        this.rate = 0;\r\n        this.voiceUri = \"Portuguese Male\";\r\n        this.synth = window.responsiveVoice;\r\n       \r\n        this.synth.enableWindowClickHook(); //forces voices to load on mobile\r\n        this.synth.clickEvent();\r\n    }\r\n\r\n    setVoiceUri(voiceUri) {\r\n        this.voiceUri = voiceUri;\r\n    }\r\n\r\n    setVoice(voiceUri) {\r\n        if (!this.voices || this.voices.lenght === 0) {\r\n            this.voices = this.synth.getVoices();\r\n        }\r\n        try {\r\n            this.voice = this.voices.filter((v, i, a) => v.voiceURI === voiceUri)[0];\r\n            return true;\r\n        }\r\n        catch{\r\n            return false;\r\n        }\r\n    }\r\n\r\n    setRate(rate) {\r\n        if (rate)\r\n            this.rate = rate;\r\n    }\r\n\r\n    getVoices() {\r\n        if (!this.voices || this.voices.lenght === 0) {\r\n            this.voices = this.synth.getVoices();\r\n        }\r\n        return this.voices;\r\n    }\r\n\r\n    speak(text, volume) {\r\n        const couldSetVoice = this.setVoice(this.voiceUri);\r\n        if(!couldSetVoice)\r\n            console.error(\"Could not set voice\");\r\n\r\n        try {\r\n            this.synth.setDefaultVoice(this.voiceUri);\r\n            this.synth.speak(text, this.voiceUri, {rate: this.rate, volume: volume});\r\n            return true;\r\n        }\r\n        catch{\r\n            return false;\r\n        }\r\n    }\r\n\r\n    isSupported() {\r\n        return this.synth.voiceSupport();\r\n    }\r\n\r\n    getSelectedVoice() {\r\n        return this.voice;\r\n    }\r\n}\r\n\r\nconst synth = new ResponsiveVoiceSynth();\r\nexport default synth;","import React from 'react';\r\nimport './Square.css'\r\nimport './SquareThemes.css'\r\nimport { FaTrashAlt } from 'react-icons/fa'\r\nimport pickRandomTheme from '../../libs/SquareThemes'\r\nimport synth from '../../libs/Synth'\r\nimport Zoom from '@material-ui/core/Zoom';\r\n\r\nclass Square extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            isDeleteButtonHidden: true\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { square } = this.props;\r\n        let theme = square.theme || pickRandomTheme();\r\n        let text = square.text;\r\n        let isTextTrimmed = false;\r\n        if (square.text.length > 4) {\r\n            text = square.text.substring(0, 4).concat('...');\r\n            isTextTrimmed = true;\r\n        }\r\n        return (\r\n            <Zoom in={true} timeout={200}>\r\n                <div className=\"pa2\"\r\n                    onClick={this.speak}>\r\n                    <div className={`sb shadow-1 w4 h4 grow pointer bg-${theme} b-${theme}`}\r\n                        onMouseLeave={this.hideDeleteButton}\r\n                        onMouseOver={this.showDeleteButton}>\r\n                        {!this.state.isDeleteButtonHidden &&\r\n                            <div onClick={this.props.deleteSquare.bind(null, square.id)}>\r\n                                <FaTrashAlt className=\"delete\" />\r\n                            </div>}\r\n                        <p className=\"db link tc pa2 square-text tooltip\">{text}\r\n                            {isTextTrimmed && <span class=\"tooltiptext\">{square.text}</span>}</p>\r\n                    </div>\r\n                </div>\r\n            </Zoom>);\r\n    }\r\n\r\n    speak = () => {\r\n        const { square } = this.props;\r\n        const spoke = synth.speak(square.text);\r\n        if (!spoke)\r\n            alert(\"Aww, something went wrong and I could not speak :(. Maybe your device doesn't support voices, try using this app on the web\");\r\n    }\r\n\r\n    showDeleteButton = () => {\r\n        if (this.state.isDeleteButtonHidden)\r\n            this.toggleDeleteButtonVisibility();\r\n    }\r\n\r\n    hideDeleteButton = () => {\r\n        if (!this.state.isDeleteButtonHidden)\r\n            this.toggleDeleteButtonVisibility();\r\n    }\r\n\r\n    toggleDeleteButtonVisibility = () => {\r\n        this.setState({ isDeleteButtonHidden: !this.state.isDeleteButtonHidden });\r\n    }\r\n};\r\n\r\nexport default Square;\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport Square from '../Square/Square'\r\nimport './SquareList.css'\r\nimport {FaCube} from 'react-icons/fa'\r\n\r\nclass SquareList extends React.Component {\r\n    render() {\r\n        const { squares } = this.props;\r\n        return (\r\n            <div className=\"center mw8 list bg-near-white\">\r\n                <div className=\"flex m-center flex-wrap\">\r\n                    {squares.length === 0 ? this.renderEmpty() : this.renderSquares(squares)}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderEmpty() {\r\n        return (\r\n            <div className=\"center tc cf pa4\">\r\n                <FaCube className=\"f-headline\" />\r\n                <p className=\"f3\">Add squares to get started :)</p>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    renderSquares(squares) {\r\n        return squares.map(s => {\r\n            return <Square key={s.id} square={s} deleteSquare={this.props.deleteSquare} />\r\n        })\r\n    }\r\n};\r\n\r\nexport default SquareList;\r\n\r\n","import React from 'react';\r\nimport './Settings.css'\r\nimport synth from '../../libs/Synth'\r\n\r\nclass Settings extends React.Component {\r\n    constructor(){\r\n        super();\r\n        synth.onVoicesChanged = this.onVoicesChanged;\r\n        this.state = {\r\n            voices: synth.getVoices()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"center mw8 cf bg-gold pa4\">\r\n                <div className=\"fl w-100 w-70-ns\">\r\n                    <label htmlFor=\"voicesSelect\">Voice</label><br />\r\n                    <select id=\"voicesSelect\"\r\n                        className=\"f6 f5-l bn black-80 bg-white pa3 lh-solid w-100 w-75-m w-80-l br2-ns\"\r\n                        value={this.props.selectedVoice}\r\n                        onChange={this.props.onSelectedVoiceChanged}>\r\n                        {this.state.voices && this.state.voices.map(v => (\r\n                            <option key={v.voiceUri} value={v.voiceUri}>{v.name}</option>\r\n                        ))}\r\n                    </select>\r\n                </div>\r\n                <div className=\"fl w-100 w-30-ns mt4 mt0-ns\">\r\n                    <label htmlFor=\"rate\">Rate</label><br />\r\n                    <input id=\"rate\"\r\n                        className=\"f6 f5-l bn black-80 bg-white pa3 lh-solid w-100 br2-ns\"\r\n                        type=\"number\"\r\n                        value={this.props.rate}\r\n                        onChange={this.props.onRateChanged}\r\n                        min=\"0\"\r\n                        step=\".1\"\r\n                        max=\"5\"/>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    onVoicesChanged = () =>{\r\n        this.setState({voices: synth.getVoices()});\r\n    }\r\n};\r\n\r\nexport default Settings;","import React from 'react';\r\nimport {FaFrown} from 'react-icons/fa'\r\n\r\nconst NotSupportedWarning = () => {\r\n    return (\r\n        <div className=\"center mw8 bg-near-white pa4 min-vh-100 tc\">\r\n            <FaFrown className=\"f-headline\"/>\r\n            <p className=\"f2\"><i>Aww, bummer!</i></p>\r\n            <p className=\"f3\">\r\n                Sorry, your browser <strong>does not support</strong> speech synthesis.<br />\r\n            </p>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default NotSupportedWarning;","const StoreKeys = {\r\n  SQUARES: \"SQUARES\",\r\n  SETTINGS: \"SETTINGS\"\r\n}\r\n\r\nclass Store {\r\n  getSquares() {\r\n    const squares = this.get(StoreKeys.SQUARES);\r\n    return squares || [];\r\n  }\r\n\r\n  saveSquares(squares) {\r\n    this.save(StoreKeys.SQUARES, squares);\r\n  }\r\n\r\n  getSettings() {\r\n    const settings = this.get(StoreKeys.SETTINGS);\r\n    if (settings && settings.rate)\r\n      return settings;\r\n    return { rate: 0, selectedVoice: undefined };\r\n  }\r\n\r\n  saveSettings(rate, voiceUri) {\r\n    const settings = {\r\n      rate,\r\n      selectedVoice: voiceUri\r\n    }\r\n    this.save(StoreKeys.SETTINGS, settings);\r\n  }\r\n\r\n  save(key, data) {\r\n    const json = JSON.stringify(data);\r\n    window.localStorage.setItem(key, json);\r\n  }\r\n\r\n  get(key) {\r\n    const json = window.localStorage.getItem(key);\r\n    return JSON.parse(json);\r\n  }\r\n}\r\n\r\nconst store = new Store();\r\nexport default store;","import React, { Fragment } from 'react';\r\nimport uuid from 'uuid'\r\n\r\nimport Header from './Components/Header/Header'\r\nimport Footer from './Components/Footer/Footer'\r\nimport AddSquareForm from './Components/AddSquareForm/AddSquareForm'\r\nimport SquareList from './Components/SquareList/SquareList'\r\nimport Settings from './Components/Settings/Settings'\r\nimport NotSupportedWarning from './Components/NotSupportedWarning/NotSupportedWarning'\r\n\r\nimport pickRandomTheme from './libs/SquareThemes'\r\nimport store from './libs/Store'\r\nimport synth from './libs/Synth'\r\n\r\nclass App extends React.Component {\r\n  constructor() {\r\n    super()\r\n    const squares = store.getSquares();\r\n    const settings = store.getSettings();\r\n    this.state = {\r\n      squares: squares,\r\n      selectedVoice: settings.selectedVoice,\r\n      rate: settings.rate\r\n    }\r\n    synth.setVoiceUri(settings.voiceUri);\r\n    synth.setRate(settings.rate);\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('beforeunload', this.saveData);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.saveData();\r\n    window.removeEventListener('beforeunload', this.saveData); // remove the event handler for normal unmounting\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <main>\r\n        <Header />\r\n        {synth.isSupported() ?\r\n          <Fragment>\r\n            <Settings selectedVoice={this.state.selectedVoice}\r\n              rate={this.state.rate}\r\n              onSelectedVoiceChanged={this.changeSelectedVoice}\r\n              onRateChanged={this.changeRate}\r\n            />\r\n            <AddSquareForm onAddSquare={this.onAddSquare} />\r\n            <SquareList squares={this.state.squares} deleteSquare={this.deleteSquare} />\r\n          </Fragment>\r\n          : <NotSupportedWarning />\r\n        }\r\n        <Footer />\r\n      </main>\r\n    );\r\n  }\r\n\r\n  saveData = () => {\r\n    store.saveSquares(this.state.squares);\r\n    store.saveSettings(this.state.rate, this.state.selectedVoice);\r\n  }\r\n\r\n  onAddSquare = (text) => {\r\n    const randomTheme = pickRandomTheme();\r\n    const newSquare = {\r\n      id: uuid.v4(),\r\n      text: text,\r\n      theme: randomTheme\r\n    };\r\n    this.setState({ squares: this.state.squares.concat(newSquare) });\r\n  }\r\n\r\n  deleteSquare = (id, e) => {\r\n    e.stopPropagation();\r\n    this.setState({\r\n      squares: this.state.squares.filter(s => s.id !== id)\r\n    });\r\n  }\r\n\r\n  changeSelectedVoice = (e) => {\r\n    const voiceUri = e.target.value;\r\n    this.setState({ selectedVoice: voiceUri });\r\n    synth.setVoiceUri(voiceUri);\r\n  }\r\n\r\n  changeRate = (e) => {\r\n    const rate = e.target.value;\r\n    this.setState({ rate: rate });\r\n    synth.setRate(rate);\r\n  }\r\n}\r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport 'tachyons'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}